<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./assets/shop_style.css">
    <link rel="stylesheet" href="./assets/color.css">
    <link rel="stylesheet" href="./assets/fonts/themify-icons/themify-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <title>Document</title>
</head>
<body>
    <div id="header">
        <div class="nav_bar">
            <a href="./index.html" class="sign">
            </a>
            <div class="nav_right">
                <ul class="nav_list">
                    <li class="nav_item">
                        <a href="./index.html">Homepages</a>
                    </li>
                    <li class="nav_item">
                        <a href="./about.html">About Us</a>
                    </li>

                    <li class="nav_item nav_shop">
                        <a href="#">Shop</a>

                        <ul class="subnav">
                            <li class="subnav_item"><a href="./shop.html">Shop Page</a></li>
                            <li class="subnav_item"><a href="./checkout.html">Check Out</a></li>
                            <li class="subnav_item"><a href="./account.html">My Account</a></li>
                        </ul>
                    </li>

                    <li class="nav_item">
                        <a href="./blog.html">Blog</a>
                    </li>
                    <li class="nav_item">
                        <a href="./contact.html">Contact</a>
                    </li>
                </ul>   

                <div class="nav_btns">
                    <div class="wine_btn">
                        <a href="404.html">Wine From $40</a>
                    </div>
                    <a href="./cart.html" style="text-decoration: none;">
                        <d class="cart_btn">
                            <p class="money">$0.00</p>
                            <i class="ti-shopping-cart"></i>
                            <div class="cart_quantity">
                                <p>0</p>
                            </div>
                        </d>
                    </a>
                </div>
            </div>

        </div>
    </div>

    <div id="content">

        <div id="shop">
            <div class="shop_content">
                <h1 class="shop_header">Shop Products</h1>
                <p class="shop_info">Discover Great Wines And Flavors In Our Winery Shop!</p>
            </div>
        </div>
        	
        <div id="products">
            <div class="products_content">
                <div class="sort">
                    <div class="sort_info"><span>Showing all 6 results</span></div>

                    <form action="" class="sort_bar">
                        <select id="sort_list">
                            <option class="sort_item" value="default_sort">Default sorting</option>
                            <option class="sort_item" value="popular_sort">Sort by popularity</option>
                            <option class="sort_item" value="average_sort">Sort by average rating</option>
                            <option class="sort_item" value="latest_sort">Sort by latest</option>
                            <option class="sort_item" value="low-to-high_sort">Sort by price: low to high</option>
                            <option class="sort_item" value="high-to-low_sort">Sort by price: high to low</option>
                        </select>
                    </form>

               
                </div>

                <div class="product_list shop_product">
                    <div class="product">
                        <a href="./product.html" class="product_info">
                            <img class="product_img" src="./assets/img/product1.jpg" alt="">
                            <p class="product_name">Collection Blue Wines</p>
                            <span class="product_price">$350.00</span>
                        </a>
                        <div class="add_btn">
                            <p>Add To Cart</p>
                        </div>
                    </div>
                    <div class="product">
                        <a href="./product.html" class="product_info">
                            <img class="product_img" src="./assets/img/product2.jpg" alt="">
                            <p class="product_name">Collection Red Wines</p>
                            <span class="product_price">$350.00</span>
                        </a>

                        <div class="add_btn">
                            <p>Add To Cart</p>
                        </div>
                    </div>
                    <div class="product">
                        <a href="./product.html" class="product_info">
                            <img class="product_img" src="./assets/img/product3.jpg" alt="">
                            <p class="product_name">Garden Of Tomorrow</p>
                            <span class="product_price">$99.00</span>
                        </a>

                        <div class="add_btn">
                            <p>Add To Cart</p>
                        </div>
                    </div>
                    <div class="product">
                        <a href="./product.html" class="product_info">
                            <img class="product_img" src="./assets/img/product4.jpg" alt="">
                            <p class="product_name">Vinegloss Blue Sky</p>
                            <span class="product_price">$119.00</span>
                        </a>

                        <div class="add_btn">
                            <p>Add To Cart</p>
                        </div>
                    </div>
                    <div class="product">
                        <a href="./product.html" class="product_info">
                            <img class="product_img" src="./assets/img/product5.jpg" alt="">
                            <p class="product_name">Vinegloss Dry Red Wine</p>
                            <span class="product_price">$109.00</span>
                        </a>

                        <div class="add_btn">
                            <p>Add To Cart</p>
                        </div>
                    </div>
                    <div class="product">
                        <a href="./product.html" class="product_info">
                            <img class="product_img" src="./assets/img/product6.jpg" alt="">
                            <p class="product_name">Vinegloss Red Wine</p>
                            <span class="product_price">$129.00</span>
                        </a>

                        <div class="add_btn">
                            <p>Add To Cart</p>
                        </div>
                    </div>

                    
                </div>
            </div>
        </div>

    </div>

    <div id="footer">
        <div id="social">
                <div class="social_left">
                    <h2 class="social_header">We Are Synonymous With Quality</h2>
                    <h1 class="social_info">The Best Wine Made With <br> Carefully Selected Pinot Noir <br> Grapes</h1>
                </div>

                <div class="social_right">
                    <a href="" class="ti-facebook social_icon"></a>
                    <a href="" class="ti-twitter-alt social_icon"></a>
                    <a href="" class="ti-youtube social_icon"></a>
                    <a href="" class="ti-linkedin social_icon"></a>
                    <a href="" class="ti-instagram social_icon"></a>
                </div>
        </div>

        <div id="copy-right">
            <p class="left_item">&copy;2023 &minus; By ThienMy & ThanhDanh</p>
            <div class="right_item">
                <a href="" class="more_info">Terms & Conditions</a>
                <a href="" class="more_info">Refunds</a>
            </div>
        </div>
</div>




</body>

<div id="toast">
    <!-- <div class="toast_container toast_success">
        <div class="toast_icon"><i class="bi bi-check-circle-fill"></i></div>
        <div class="toast_body">
            <h3 class="toast_title">Success</h3>
            <div class="toast_msg">Product successfully added to your shopping cart</div>
        </div>
        <div class="toast_close"><i class="bi bi-x"></i></div>
    </div>

    <div class="toast_container toast_error">
        <div class="toast_icon"><i class="bi bi-check-circle-fill"></i></div>
        <div class="toast_body">
            <h3 class="toast_title">Success</h3>
            <div class="toast_msg"><span class="item_name">cart</div>
        </div>
        <div class="toast_close"><i class="bi bi-x"></i></div>
    </div> -->


</div>

<script>

    function toast({
        title = '',
        message = '',
        type = '',
        duration = ''}){
            const main = document.getElementById('toast');
            if (main){
                const toastCont = document.createElement('div');

                const autoRemove =  setTimeout(function(){
                    main.removeChild(toastCont);
                }, duration + 1000);

                toastCont.onclick = function(e){
                    if(e.target.closest('.toast_close')){
                        main.removeChild(toastCont);
                        clearTimeout(autoRemove);
                    }
                }

                const icons = {
                    success: 'bi bi-check-circle-fill',
                    error: 'bi bi-exclamation-triangle-fill',
                }
                const icon = icons[type]
                const delay = (duration/1000).toFixed(2);

                toastCont.classList.add('toast_container', `toast_${type}`);
                toastCont.style.animation = `slideInLeft ease .3s, fadeOut linear 1s ${delay}s forwards`;
                toastCont.innerHTML = `
                    <div class="toast_icon">
                        <i class="${icon}"></i>
                    </div>
                    <div class="toast_body">
                        <h3 class="toast_title">${title}</h3>
                        <div class="toast_msg">${message}</div>
                    </div>
                    <div class="toast_close"><i class="bi bi-x"></i></div>
                `;

                main.appendChild(toastCont);

                
            }
    }

   
    function showSuccessToast(){
        toast({
            title: 'Success',
            message: 'Product successfully added to your shopping cart',
            type: 'success',
            duration: 3000
        })
    }

    function showErrorToast(){
        toast({
            title: 'Error',
            message: 'Can not add product to your shopping cart',
            type: 'error',
            duration: 3000
        })
    }

    var addBtns = document.querySelectorAll('.add_btn');
    addBtns.forEach(function(item){
        item.addEventListener('click',showSuccessToast);
    })


    var productInfo = document.querySelectorAll('.product_info');
    
    
    function showProduct(){
            localStorage.setItem('imgSrc', this.querySelector('.product_img').getAttribute('src'));
            localStorage.setItem('productName', this.querySelector('.product_name').innerHTML);
            localStorage.setItem('productPrice', this.querySelector('.product_price').innerHTML);


            console.log(localStorage);
    }

    productInfo.forEach(function(item){
        item.addEventListener('click', showProduct)
    })
    


</script>

</html>